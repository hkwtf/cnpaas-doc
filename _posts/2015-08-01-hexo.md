---
layout: page
title: "Hexo (静态)"
top_title: "部署 Hexo 静态网站"
category: tutorial
date: 2015-08-01 12:45:53
order: 2
published: true
---

[Hexo](https://hexo.io) 是个受欢迎的静态网站生成器。用它可以很方便的搭建纯 html 网页的 blog ，而无需用到 PHP 等语言和数据库。

由于 CNPaaS 基于 Openshift 环境，所以可以使用 [Hexo 官方文档的 Deploy 部分](https://hexo.io/docs/deployment.html#OpenShift) 里关于 Openshift 环境的方法来部署，整个过程连基本的 git 命令都不需要执行，十分方便。

### 1. 如何用 Hexo 创建网站

首先是在系统安装好 [Node.js](https://nodejs.org) 的情况下安装 Hexo ：

{% highlight console %}
$ npm install hexo-cli -g
{% endhighlight %}

详情请参考 [Hexo 官方文档](https://hexo.io/docs/) 。

然后用以下命令创建一个站点：

{% highlight console %}
$ hexo init 目录名
$ cd 目录名
$ npm install
{% endhighlight %}

<img class="embeddable" src="{{site.url}}/images/hexo/cnpaas-hexo2.jpg" alt="部署 Hexo 静态网站" title="部署 Hexo 静态网站" />


写文章的方法是：

{% highlight console %}
$ hexo new 文章名
{% endhighlight %}

（更详细的用法请参考[这里](https://hexo.io/docs/writing.html)。）

<img class="embeddable" src="{{site.url}}/images/hexo/cnpaas-hexo3.jpg" alt="部署 Hexo 静态网站" title="部署 Hexo 静态网站" />

然后用任何文本编辑器编辑用上述命令创建出来的 Markdown 文件（支持 Makrdown 语法）：

<img class="embeddable" src="{{site.url}}/images/hexo/cnpaas-hexo4.jpg" alt="部署 Hexo 静态网站" title="部署 Hexo 静态网站" />

保存后执行：

{% highlight console %}
$ hexo generate
{% endhighlight %}

<img class="embeddable" src="{{site.url}}/images/hexo/cnpaas-hexo5.jpg" alt="部署 Hexo 静态网站" title="部署 Hexo 静态网站" />

这样就在本地生成了一个静态网站。

### 2. 如何在 CNPaaS 部署 Hexo 站点

首先在 CNPaaS 后台[创建]一个 HTML5 环境的应用：

<img class="embeddable" src="{{site.url}}/images/hexo/cnpaas-hexo1.jpg" alt="部署 Hexo 静态网站" title="部署 Hexo 静态网站" />

接着安装 Hexo 的 Openshift 插件：

{% highlight console %}
$ npm install hexo-deployer-openshift --save
{% endhighlight %}

然后进入 CNPaaS 后台该应用的详情页：

<img class="embeddable" src="{{site.url}}/images/hexo/cnpaas-hexo6.jpg" alt="部署 Hexo 静态网站" title="部署 Hexo 静态网站" />

复制 **Git 地址**的内容。

用编辑器编辑 Hexo 项目根目录里的 “**_config.yml**” 文件，

<img class="embeddable" src="{{site.url}}/images/hexo/cnpaas-hexo7.jpg" alt="部署 Hexo 静态网站" title="部署 Hexo 静态网站" />

如图所示，把 “**deploy:**” 部分的 “**type:**” 设为 “**type: openshift**” ，并在下边加一条：

`repo: Git 地址`

保存后执行：

{% highlight console %}
$ hexo deploy
{% endhighlight %}

<img class="embeddable" src="{{site.url}}/images/hexo/cnpaas-hexo8.jpg" alt="部署 Hexo 静态网站" title="部署 Hexo 静态网站" />

即可。

过程中可能会问你关于公钥的事情（会出现 “yes/no” ），敲 “yes” 并回车。

部署成功后会提示：

`INFO  Deploy done: openshift`

进入 CNPaaS 该应用的后台里的 “**CNPaaS 网址**”，便可看到效果：

<img class="embeddable" src="{{site.url}}/images/hexo/cnpaas-hexo9.jpg" alt="部署 Hexo 静态网站" title="部署 Hexo 静态网站" />

如果想设定自己的域名，可以参考 CNPaaS 的《[使用自定义网址来访问你的应用](http://doc.cnpaas.io/usage/custom-domains.html)》这个教程。

[创建]:http://dashboard.cnpaas.io/a


